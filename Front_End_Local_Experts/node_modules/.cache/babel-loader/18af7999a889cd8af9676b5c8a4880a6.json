{"ast":null,"code":"var _jsxFileName = \"/Users/benmiriello/Development/code/Local_Experts_App/Front_End_Local_Experts/src/components/UserProfile.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Card, Grid, Segment, Divider, Header } from 'semantic-ui-react';\nimport UserPageExperienceModal from './UserPageExperienceModal';\nexport class UserProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userLogged: {}\n    };\n\n    this.showFavorites = () => {\n      console.log('user faves', this.state.userLogged.favorite_experiences);\n\n      if (this.state.userLogged.favorite_experiences) {\n        return this.state.userLogged.favorite_experiences.map(experience => React.createElement(Card, {\n          className: \"experience-card\",\n          image: experience.image,\n          header: experience.name,\n          meta: experience.category,\n          description: experience.description.substring(0, 70) + \"...\",\n          extra: React.createElement(UserPageExperienceModal, {\n            experience: experience,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }));\n      } else {\n        return \"Either you aren't logged in or you haven't favorited any experiences yet...\";\n      }\n    };\n\n    this.myExperiences = () => {\n      console.log('user booked exps ', this.state.userLogged.my_experiences);\n\n      if (this.state.userLogged.my_experiences) {\n        return this.state.userLogged.my_experiences.map(experience => React.createElement(Card, {\n          className: \"experience-card\",\n          image: experience.image,\n          header: experience.name,\n          meta: experience.category,\n          description: experience.description.substring(0, 70) + \"...\",\n          extra: React.createElement(UserPageExperienceModal, {\n            experience: experience,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }));\n      } else {\n        return \"Either you aren't logged in or you haven't booked any experiences yet...\";\n      }\n    };\n  }\n\n  // use user id in localstorage to fetch that user's info and populate their profile\n  componentDidMount() {\n    // console.log(localStorage)\n    axios.get(`http://localhost:4001/api/v1/users/${localStorage.id}`).then(res => {\n      // const userCurrent = res.data\n      // console.log('response in userpage fetch ', res.data)\n      this.setState({\n        userLogged: res.data\n      }, () => console.log('user logged ', this.state.userLogged));\n    });\n  }\n\n  render() {\n    return React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      columns: 2,\n      relaxed: \"very\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"My Favorites\"), React.createElement(\"div\", {\n      className: \"cards-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.showFavorites())), React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"My Experiences\"), React.createElement(\"div\", {\n      className: \"cards-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.myExperiences))), React.createElement(Divider, {\n      vertical: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n  }\n\n}\nexport default UserProfile; // user logs in\n// redirects here\n// also add statement to change login to log out\n//","map":{"version":3,"sources":["/Users/benmiriello/Development/code/Local_Experts_App/Front_End_Local_Experts/src/components/UserProfile.js"],"names":["React","Component","axios","Card","Grid","Segment","Divider","Header","UserPageExperienceModal","UserProfile","state","userLogged","showFavorites","console","log","favorite_experiences","map","experience","image","name","category","description","substring","myExperiences","my_experiences","componentDidMount","get","localStorage","id","then","res","setState","data","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport {Card, Grid, Segment, Divider, Header} from 'semantic-ui-react'\nimport UserPageExperienceModal from './UserPageExperienceModal'\n\nexport class UserProfile extends Component {\n\n    state = {\n        userLogged: {}\n    }\n\n    // use user id in localstorage to fetch that user's info and populate their profile\n\n    componentDidMount(){\n        // console.log(localStorage)\n        axios.get(`http://localhost:4001/api/v1/users/${localStorage.id}`)\n        .then(res => {\n            // const userCurrent = res.data\n            // console.log('response in userpage fetch ', res.data)\n            this.setState({\n                userLogged: res.data\n            }\n            , () => console.log('user logged ', this.state.userLogged)\n            )\n        })\n    }\n\n    showFavorites = () => {\n\n        console.log('user faves', this.state.userLogged.favorite_experiences)\n        \n        if (this.state.userLogged.favorite_experiences) {\n            return(\n                this.state.userLogged.favorite_experiences.map(experience => \n                    <Card\n                        className=\"experience-card\"\n                        image={experience.image}\n                        header={experience.name}\n                        meta={experience.category}\n                        description={experience.description.substring(0,70) + \"...\"}\n                        extra={<UserPageExperienceModal experience={experience} />}\n                    />\n                )\n            )\n        } else {\n            return \"Either you aren't logged in or you haven't favorited any experiences yet...\"\n        }\n    }\n\n    myExperiences = () => {\n        console.log('user booked exps ', this.state.userLogged.my_experiences)\n        if (this.state.userLogged.my_experiences) {\n            return(\n                this.state.userLogged.my_experiences.map(experience => \n                    <Card\n                        className=\"experience-card\"\n                        image={experience.image}\n                        header={experience.name}\n                        meta={experience.category}\n                        description={experience.description.substring(0,70) + \"...\"}\n                        extra={<UserPageExperienceModal experience={experience} />}\n                    />\n                ) \n            )\n        } else {\n            return \"Either you aren't logged in or you haven't booked any experiences yet...\"\n        }\n    }\n\n    render() {\n        return (\n            <Segment>\n                <Grid columns={2} relaxed='very'>\n                    <Grid.Column>\n                        <Header>My Favorites</Header>\n                        <div className=\"cards-container\">\n                            {this.showFavorites()}\n                        </div>\n                    </Grid.Column>\n                    <Grid.Column>\n                        <Header>My Experiences</Header>\n                        <div className=\"cards-container\">\n                            {this.myExperiences}\n                        </div>\n                    </Grid.Column>\n                </Grid>\n        \n                <Divider vertical></Divider>\n            </Segment>\n        )\n    }\n}\n\nexport default UserProfile\n\n\n\n// user logs in\n// redirects here\n// also add statement to change login to log out\n//\n"]},"metadata":{},"sourceType":"module"}